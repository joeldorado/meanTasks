"use strict";
//
//  Returns the first truthy resolved value
//
function or(factories) {
    return new Promise(function (resolve, reject) {
        var index = 0;
        function next() {
            if (++index == factories.length) {
                resolve(false);
            }
            else {
                run();
            }
        }
        function run() {
            var promise = factories[index]();
            promise.then(function (val) {
                if (val) {
                    resolve(val);
                }
                else {
                    next();
                }
            }).catch(function (err) {
                reject(err);
            });
        }
        run();
    });
}
exports.or = or;
