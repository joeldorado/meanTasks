const express = require("express");
import * as middleware from "./middleware";

const basePath = process.cwd();
const port = 3000;

console.log("systemjs-server");
console.log("    basePath: " + basePath);
console.log("    port: " + port);

const app = express();

middleware.configure({
    basePath: basePath
});
middleware.setup(app);

app.use(express.static(basePath));

app.listen(port, function () {
    console.log('SystemJS server is listening on port ' + port);
});
